The School Discovery App is designed to help parents 1) identify the schools to which their children are eligible to apply and 2) understand the odds of their children getting admitted. To search for schools, parents enter an address and a grade level.  The search engine logic works as follows:

1. if no parameters are entered -> display a blank map and a welcome note (the default page)
2. if a grade level and no address are entered -> display the default page with an alert message
3. if a grade level and non-geocodeable address are entered -> display the default page with an alert message
4. if a grade level and non-Boston address are entered -> display the default page with an alert message
5. if a grade level and valid address are entered -> display the walk zone and assignment zone schools for that address
6. if high school and a valid address are entered -> display the walk zone schools and all of the other high schools throughout the city


http://schoolselection.herokuapp.com/ | git@heroku.com:schoolselection.git

SCRIBBLES und SCRABBLES

parcels = GeoRuby::Shp4r::ShpFile.open('../../Projects/SchoolSelection/Data/school_parcels/school_parcels')
dbf_schools = DBF::Table.new('../../Projects/SchoolSelection/Data/school_parcels/schools.dbf')

parcels.each do |parcel|
	parcel.geometry.srid = 2249
	dbf_school = dbf_schools.find(:first, :bldg_id => parcel.data['BUILD_ID'])
  if dbf_school.present?
  	rails_school = School.find_by_bpsid(dbf_school.sch_id)
  	rails_school = School.find_by_name(dbf_school.sch_name)
    if rails_school.present?
      rails_school.update_attribute(:parcel, parcel.geometry) 
    end
  end
end

school = School.find_by_name("O'Bryant School of Math & Science")
dbf_school = schools.to_a.find {|x| x.sch_id == 4450}

parcels.each do |parcel|
if parcel.data['BUILD_ID'] == dbf_school.bldg_id
if parcel.data.bldg_name == "Madison Park Bldg #1"
parcel.geometry.srid = 2249
school.update_attribute(:parcel, parcel.geometry)
end
end

NOT FOUND
Boston Green Academy" - not found in schools.dbf
Greater Egleston Community High School - not found in schools.dbf
Hayes School of Music - not found in schools.dbf
Brook Farm/Media High School (School Year 2011-2012) - not found in schools.dbf (found Brook Farm Academy #1254)
O'Bryant School of Math & Science / 1030 O'Bryant Math & Sci. - can't find parcel with school.bldg_id
UP Academy Charter School of Boston - not found in schools.dbf