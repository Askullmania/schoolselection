- if @walk_zone.present?
  = gmaps("markers" => {"data" => @markers_json}, "circles" => {"data" => @walk_zone_json }, "polygons" => {"data" => @assignment_zone_json, "options" => { "fillColor" => "#ffff00", "fillOpacity" => 0.35, "strokeColor" => "#000000", "strokeWeight" => 1.5, 'strokeOpacity' => 0.5 }}, "map_options" => { "provider" => "googlemaps", "auto_adjust" => true })
- else
  = gmaps("polygons" => {"data" => @assignment_zones_json, "options" => { "fillColor" => "#ffff00", "fillOpacity" => 0.4, "strokeColor" => "#000000", "strokeWeight" => 1.5, 'strokeOpacity' => 0.5 }}, "map_options" => { "provider" => "googlemaps", "auto_adjust" => false, "center_latitude" => @location.lat, "center_longitude" => @location.lng, "zoom" => 11 })

#search-form
  = form_tag('/schools', :method => :get) do
    Home address:&nbsp;
    = text_field_tag :address, "#{address_helper}", :width => 100
    &nbsp;Upcoming grade level:&nbsp;
    = select_tag :grade_level, options_for_select(['Elementary School', "Middle School", "High School"], :selected => params[:grade_level])
    = submit_tag "Search"

#page
  =raw search_message(params)
  - if @walk_zone_schools.present?
    = render :partial => 'walk_zone_schools'
  - if @assignment_zone_schools.present?
    = render :partial => 'assignment_zone_listings'
  - if @walk_zone_schools.blank? && @assignment_zone_schools.blank?
    %h2 Welcome to the School Discovery App
    %p This tool allows parents and guardians to search for eligible shools in the Boston Public School system. &nbsp;Eligible schools include the schools in your child's "Assignment Zone", as well as those in your child's "Walk Zone" (whose size is determined by your child's upcoming grade level). &nbsp;To see your eligible schools, please enter your child's home address and upcoming grade level in the form above and click "Search".