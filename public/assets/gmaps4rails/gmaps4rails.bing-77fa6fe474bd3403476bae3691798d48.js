Gmaps4Rails.map_options.type="road",Gmaps4Rails.markers_conf.infobox="description",Gmaps4Rails.getMapType=function(){switch(Gmaps4Rails.map_options.type){case"road":return Microsoft.Maps.MapTypeId.road;case"aerial":return Microsoft.Maps.MapTypeId.aerial;case"auto":return Microsoft.Maps.MapTypeId.auto;case"birdseye":return Microsoft.Maps.MapTypeId.birdseye;case"collinsBart":return Microsoft.Maps.MapTypeId.collinsBart;case"mercator":return Microsoft.Maps.MapTypeId.mercator;case"ordnanceSurvey":return Microsoft.Maps.MapTypeId.ordnanceSurvey;default:return Microsoft.Maps.MapTypeId.auto}},Gmaps4Rails.createPoint=function(a,b){return new Microsoft.Maps.Point(a,b)},Gmaps4Rails.createLatLng=function(a,b){return new Microsoft.Maps.Location(a,b)},Gmaps4Rails.createLatLngBounds=function(){},Gmaps4Rails.createMap=function(){return new Microsoft.Maps.Map(document.getElementById(Gmaps4Rails.map_options.id),{credentials:Gmaps4Rails.map_options.provider_key,mapTypeId:Gmaps4Rails.getMapType(),center:Gmaps4Rails.createLatLng(Gmaps4Rails.map_options.center_latitude,Gmaps4Rails.map_options.center_longitude),zoom:Gmaps4Rails.map_options.zoom})},Gmaps4Rails.createSize=function(a,b){return new google.maps.Size(a,b)},Gmaps4Rails.createMarker=function(a){var b=Gmaps4Rails.createLatLng(a.Lat,a.Lng),c;return a.marker_picture===""?c=new Microsoft.Maps.Pushpin(Gmaps4Rails.createLatLng(a.Lat,a.Lng),{draggable:a.marker_draggable,anchor:Gmaps4Rails.createImageAnchorPosition(a.Lat,a.Lng),text:a.marker_title}):c=new Microsoft.Maps.Pushpin(Gmaps4Rails.createLatLng(a.Lat,a.Lng),{draggable:a.marker_draggable,anchor:Gmaps4Rails.createImageAnchorPosition(a.Lat,a.Lng),icon:a.marker_picture,height:a.marker_height,text:a.marker_title,width:a.marker_width}),Gmaps4Rails.addToMap(c),c},Gmaps4Rails.clearMarkers=function(){for(var a=0;a<this.markers.length;++a)this.clearMarker(this.markers[a])},Gmaps4Rails.clearMarker=function(a){this.removeFromMap(a.serviceObject)},Gmaps4Rails.showMarkers=function(){for(var a=0;a<this.markers.length;++a)this.showMarker(this.markers[a])},Gmaps4Rails.showMarker=function(a){a.serviceObject.setOptions({visible:!0})},Gmaps4Rails.hideMarkers=function(){for(var a=0;a<this.markers.length;++a)this.hideMarker(this.markers[a])},Gmaps4Rails.hideMarker=function(a){a.serviceObject.setOptions({visible:!1})},Gmaps4Rails.extendBoundsWithMarkers=function(){var a=[];for(var b=0;b<this.markers.length;++b)a.push(Gmaps4Rails.markers[b].serviceObject.getLocation());Gmaps4Rails.boundsObject=Microsoft.Maps.LocationRect.fromLocations(a)},Gmaps4Rails.createClusterer=function(a){},Gmaps4Rails.clearClusterer=function(){},Gmaps4Rails.clusterize=function(){},Gmaps4Rails.createInfoWindow=function(a){var b;Gmaps4Rails.exists(a.description)&&(Gmaps4Rails.markers_conf.infobox=="description"?a.info_window=new Microsoft.Maps.Infobox(a.serviceObject.getLocation(),{description:a.description,visible:!1,showCloseButton:!0}):a.info_window=new Microsoft.Maps.Infobox(a.serviceObject.getLocation(),{htmlContent:a.description,visible:!1}),Microsoft.Maps.Events.addHandler(a.serviceObject,"click",Gmaps4Rails.openInfoWindow(a.info_window)),Gmaps4Rails.addToMap(a.info_window))},Gmaps4Rails.openInfoWindow=function(a){return function(){Gmaps4Rails.visibleInfoWindow&&Gmaps4Rails.visibleInfoWindow.setOptions({visible:!1}),a.setOptions({visible:!0}),Gmaps4Rails.visibleInfoWindow=a}},Gmaps4Rails.fitBounds=function(){Gmaps4Rails.map.setView({bounds:Gmaps4Rails.boundsObject})},Gmaps4Rails.addToMap=function(a){Gmaps4Rails.map.entities.push(a)},Gmaps4Rails.removeFromMap=function(a){console.log(a),Gmaps4Rails.map.entities.remove(a)},Gmaps4Rails.centerMapOnUser=function(){Gmaps4Rails.map.setView({center:Gmaps4Rails.userLocation})}